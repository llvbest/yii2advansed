Скриншоты работающего приложения в папке screenshots.

Настраиваем отображение бэкенда и фронтенда, виртуальные хосты как описано в документации - yii2 advanced шаблон
https://github.com/yiisoft/yii2-app-advanced/blob/master/docs/guide/start-installation.md

В файле common/config/main-local.php в компоненте db прописываем доступы в бд, например для MySQL
'dsn' => 'mysql:host=localhost;dbname=yii2advanced',
'username' => 'root',
'password' => '',

Выполняем миграции:
yii migrate

На фронте (например http://domain.com/site/signup) - регистрируем пользователя

Переходим в бекэнд (например http://admin.domain.com/) редирект на /site/login и авторизуемся с паролем.

Реализован класс/объект AppleFruit наследник от ActiveRecord класса Apple ORM модели в бд, созданной в миграции таблици apples.
Соответственно реализует интерфейс FruitInterface функций - упасть, съесть ($percent - процент откушенной части)
,удалить (когда полностью съедено).

Реализован паттерн Состояния(State Pattern): висит на дереве, упало/лежит на земле, гнилое яблоко.
Преимущества: без if по статусам, вся логика поведения — в состояниях.
(переход между состояниями, устанавливается дата падения, выброс исключений например на дереве съесть нельзя, установка % съедения ...)


Реализован паттерн репозитория, определяет методы для работы с сущностями (создания, генерации).
При создании: устанавливается цвет случайным, дата появления.
Преследует разделение ответственности: 
-бизнес-логика отделена от логики доступа к данным.
-тестируемость: Легко подменить репозиторий моком (mock) для юнит-тестов.
-гибкость: Можно легко перейти с MySQL на PostgreSQL, просто изменив реализацию репозитория.
-чистота кода: Контроллеры и сервисы становятся проще, фокусируясь на бизнес-правилах.

Также реализован паттер сервиса FruitService, управление состоянием объекта для фронта.

? Бизнес-логика отделена от БД
? Используются domain exceptions
? Состояния контролируются внутри объекта
? Каждое состояние отвечает только за своё поведение
? Легко добавить новое состояние (например, FrozenState)
? Чистая доменная модель
? Подходит под DDD
? Возможно горизонтального масштабирование например через репозиторий и генерацию создать другие объекты сада помимо apple

Условие 'После лежания 5 часов - портится' - выполняется при загрузке страници с фруктами в админке, 
Также можно поставить cron job http://admin.domain.com/apple/spoiled

Пример результирующего скрипта в контроллере http://admin.domain.com/site/test:
        
$repo = new FruitRepository();
$apple = $repo->create(new AppleFruit());

$apple->eat(50);//'Нельзя есть яблоко на дереве'

echo $apple->size;

$apple->fallToGround();

$apple->eat(25);

echo $apple->size;

------
Масштабируемость горизонтально.
добавить миграцию для создания таблици pear (по аналогии с apple)
Создать класс PearFruit и соответственно сгенерить модель AR Pear таблици бд, реализовать интерфейс implements FruitInterface.

$repo = new FruitRepository();
$pear = $repo->create(new PearFruit());

$pear->eat(50);//'Нельзя есть яблоко на дереве'

echo $pear->size;

$pear->fallToGround();

$pear->eat(25);

echo $pear->size;

соответсвенно репозиторий и сервис работают с классом PearFruit посредством указания имени класса в методах
$repo->getList('PearFruit');
$repo::generate('PearFruit');


